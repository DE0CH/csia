{% extends "codestudy/base.html" %}
{% block content %}
    <div class="ui container">
        {% if not papers %}
            <div class="ui text container">

                <div class="ui message">
                    <div class="header">Nothing to Show</div>
                    <p>
                        There is nothing in the database that matches your search.
                    </p>
                </div>
            </div>
        {% endif %}
        <div class="ui three column stackable grid">
            {% for paper in papers %}
                <div class="column">
                    <div class="ui fluid special card">
                        <div class="blurring dimmable image">
                            <div class="ui dimmer transition hidden">
                                <div class="content">
                                    <div class="center">
                                        <a class="ui inverted button" href="{{ paper.pdf.url }}">Open PDF</a>
                                    </div>
                                </div>
                            </div>
                            <img src="{{ paper.png.url }}">
                        </div>
                        <div class="content ">
                            <a class="header" href="{{ paper.pdf.url }}">{{ paper.title }}</a>
                            <div class="description">
                                {{ paper.description }}
                            </div>
                        </div>
                        <div class="content">
                            <div class="ui two column grid middle aligned">
                                <div class="column">
                                    <a class="ui small teal button" href="{% url 'codestudy:edit-paper' paper.pk %}">Edit</a>
                                </div>
                                <div class="column right aligned">
                                    <i class="star icon" id="like-{{ paper.pk }}"
                                       onclick="like('{{ paper.pk }}')"></i>Bookmark
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
{% block js %}
    <script>
        {% if all_papers %}
            $('#menu-all-papers').addClass('active');
        {% endif %}
        $('.special.card .image').dimmer({
            on: 'hover'
        });

        function like(pk) {
            console.log(pk);
            const likeBtn = $('#like-' + pk);
            if (likeBtn.hasClass('outline')) {
                likeBtn.removeClass('outline');
            } else {
                likeBtn.addClass('outline');
            }
        }
    </script>
{% endblock %}